((e,t)=>{function n(e){let t;function n(e){let n=this,l=JSON.parse(n.getAttribute("data-state")||"{}"),o=e.key,r=l.join||".",u=l.step||1e3,i=n.getAttribute("data-name"),c=n.form[i+"[0]"],s=parseInt(c&&c.value||"0",10);e.ctrlKey||!o||1!==o.length||/^[0-9]$/.test(o)?o&&"ArrowDown"===o?(s+=u,c.value=s,n.value=a(""+s,r),e.preventDefault()):o&&"ArrowUp"===o?((s-=u)<1&&(s=""),c.value=s||"0",n.value=a(""+s,r),e.preventDefault()):(t&&clearTimeout(t),t=setTimeout(()=>{c.value=s=(""+(n.value||0)).split(r).join(""),n.value=a(""+s,r),n.selectionStart===n.selectionEnd&&(n.selectionStart=n.selectionEnd=n.value.length)},1)):e.preventDefault()}["cut","input","keydown","paste"].forEach(t=>e.addEventListener(t,n))}function a(e,t){return"0"===e?"":((e=e.split("").reverse().join("").match(/\d{1,3}/g))&&(e=e.join(t).split("").reverse().join("")),e)}function l(){let e=document.querySelectorAll(".lot\\:field.type\\:money .input[data-name]");e.length&&e.forEach(n)}l(),_.on("change",l)})(window,document);
