((e,t,n)=>{function a(e){let t;function n(e){let n=this,a=JSON.parse(n.getAttribute("data-state")||"{}"),o=e.key,r=a.join||".",i=a.step||1e3,u=n.getAttribute("data-name"),s=n.form[u+"[0]"],c=parseInt(s&&s.value||"0",10);e.ctrlKey||!o||1!==o.length||/^[0-9]$/.test(o)?o&&"ArrowDown"===o?((c-=i)<1&&(c=""),s.value=c||"0",n.value=l(""+c,r),e.preventDefault()):o&&"ArrowUp"===o?(c+=i,s.value=c,n.value=l(""+c,r),e.preventDefault()):(t&&clearTimeout(t),t=setTimeout(()=>{s.value=c=(""+(n.value||0)).split(r).join(""),n.value=l(""+c,r),n.selectionStart===n.selectionEnd&&(n.selectionStart=n.selectionEnd=n.value.length)},1)):e.preventDefault()}["cut","input","keydown","paste"].forEach(t=>e.addEventListener(t,n))}function l(e,t){return"0"===e?"":((e=e.split("").reverse().join("").match(/\d{1,3}/g))&&(e=e.join(t).split("").reverse().join("")),e)}function o(){let e=t.querySelectorAll(".lot\\:field.type\\:money .input[data-name]");e.length&&e.forEach(a)}o(),n.on("change",o)})(window,document,_);
